(function(t){function e(e){for(var n,l,r=e[0],a=e[1],c=e[2],u=0,_=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&_.push(o[l][0]),o[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);d&&d(e);while(_.length)_.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var a=i[r];0!==o[a]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=i[0]))}return t}var n={},o={app:0},s=[];function l(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=n,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(i,n,function(e){return t[e]}.bind(null,n));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/todo_vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=a;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"20da":function(t,e,i){},"22d7":function(t,e,i){"use strict";var n=i("be87"),o=i.n(n);o.a},"2d52":function(t,e,i){"use strict";var n=i("d756"),o=i.n(n);o.a},"3e32":function(t,e,i){},"4e54":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container my-3",attrs:{id:"app"}},[i("router-view",{attrs:{all_todos:t.all_todos},on:{"add-todo":t.refresh_db}})],1)},s=[],l=(i("4de4"),window.localStorage),r=[["ags2ag",[{text:"Это - список дел",completed:!1,id:3},{text:"Можно добавить новый",completed:!1,id:5},{text:"список дел",completed:!0,id:8}],"Привет"],["uIdajsfn2",[{text:"Можно редактировать имеющийся",completed:!1,id:3},{text:"или просто удалить",completed:!0,id:5},{text:"и создать новый список",completed:!1,id:8}],"Назвать"]],a=(window.sessionStorage,i("8c4f")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"primary my-3"},[t._v("Список дел")]),i("div",{staticClass:"container"},[i("Board",{attrs:{board_props:t.all_todos}})],1)])},d=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._l(t.board_props,(function(e){return i("router-link",{key:e[0],staticClass:"card bg-light",attrs:{to:"edit_"+e[0],exact:""}},[i("div",{staticClass:"card-body text-primary"},[i("div",{staticClass:"inline my-2"},[i("h3",[t._v(t._s(e[2]))]),i("div",{staticClass:"text-right"},[i("button",{staticClass:"btn btn-primary board_modal_trigger",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.open_modal(e[0])}}},[t._v(" Удалить ")])])]),i("To_do_item",{staticClass:"card-text",attrs:{list_props:e[1]}})],1)])})),i("router-link",{attrs:{to:"edit_",exact:""}},[i("div",{staticClass:"primary text-center hov_targer"},[i("h2",{staticClass:"primary text-primary"},[t._v("Добавить")]),i("svg",{attrs:{viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M 20 50 h 60 ","stroke-width":"5"}}),i("path",{attrs:{d:"M 50 20 v 60 ","stroke-width":"5"}})])])]),t.modal_is_open?i("Modal",{attrs:{id:t.list_id},on:{confirmed:t.del_list,declined:t.close_modal}}):t._e()],2)},_=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"list-group"},t._l(t.list_props.slice(0,3),(function(e){return i("li",{key:e.id,staticClass:"list-group-item"},[e.completed?i("p",[i("del",[t._v(t._s(e.text))]),i("input",{attrs:{type:"checkbox",name:"",id:"{list_item.id}",checked:""}})]):i("p",[t._v(" "+t._s(e.text)+" "),i("input",{attrs:{type:"checkbox",name:"",id:"{list_item.id}"}})])])})),0)])},p=[],h={name:"To_do_item",props:["list_props"]},f=h,b=(i("92ae"),i("2877")),v=Object(b["a"])(f,m,p,!1,null,"00d40ad1",null),y=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal_container board_modal_container",on:{click:function(t){t.preventDefault()}}},[i("div",{staticClass:"modal_window bg-light  px-3"},[i("div",{staticClass:"modal_message"},[t._v("Действительно удалить?")]),i("hr"),i("div",{staticClass:"modal_buttons my-3"},[i("button",{staticClass:"btn btn-info board_modal_cancel",on:{click:function(e){return t.$emit("declined")}}},[t._v("Отменить")]),i("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.$emit("confirmed",t.id)}}},[t._v("Подтвердить")])])])])},x=[],C={name:"Modal",props:["id"]},w=C,k=(i("22d7"),Object(b["a"])(w,g,x,!1,null,null,null)),O=k.exports,j={name:"Board",components:{To_do_item:y,Modal:O},data:function(){return{modal_is_open:!1,list_id:""}},props:["board_props"],methods:{del_list:function(t){console.log(t);var e=this.board_props.filter((function(e){return e[0]!==t}));this.board_props=e,l.setItem("todo_lists",JSON.stringify(this.board_props)),this.close_modal()},open_modal:function(t){this.modal_is_open=!this.modal_is_open,this.list_id=t},close_modal:function(){this.modal_is_open=!this.modal_is_open}}},I=j,$=(i("b6e0"),Object(b["a"])(I,u,_,!1,null,"c12d6c6e",null)),S=$.exports,N={name:"Home",components:{Board:S},props:["all_todos"]},M=N,P=(i("d5ea"),Object(b["a"])(M,c,d,!1,null,"196c1533",null)),J=P.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h2",{staticClass:"btn btn-link text-primary",on:{click:t.go_back}},[t._v("Ко всем заметкам")]),i("br"),i("div",{staticClass:"inline_block"},[i("button",{staticClass:"btn btn-danger my-2",attrs:{type:"submit"},on:{click:t.open_modal_delete}},[t._v("Удалить")]),i("button",{staticClass:"btn btn-info my2 ml-auto",attrs:{disabled:!t.canUndo},on:{click:t.undo}},[t._v("Отменить")]),i("button",{staticClass:"btn btn-info my2 ml-auto",attrs:{disabled:!t.canRedo},on:{click:t.redo}},[t._v("Повторить")])]),i("div",{staticClass:"form-group"},[i("div",{staticClass:"list-group-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control text-primary",attrs:{type:"text",placeholder:"Название заметки (не обязательно)",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._l(t.current_list,(function(e){return i("div",{key:e.id},[i("List_item",{attrs:{list_item:e},on:{"del-todo-line":t.del_todo_line}})],1)})),i("form",{staticClass:"list-group-item form-group",on:{submit:function(e){return e.preventDefault(),t.add_todo_line(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_line,expression:"new_line"}],staticClass:"form-control text-primary",attrs:{type:"text",name:"new_line",placeholder:"Добавьте новое дело",required:""},domProps:{value:t.new_line},on:{input:function(e){e.target.composing||(t.new_line=e.target.value)}}}),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Добавить")])])],2),i("button",{staticClass:"btn btn-secondary my-2",attrs:{type:"submit",title:"Сбросить все изменения"},on:{click:t.open_modal}},[t._v("Сбросить")]),t.modal_is_open?i("Modal",{attrs:{id:t.list_id},on:{confirmed:t.undo_all,declined:t.close_modal}}):t._e(),t.modal_delete_is_open?i("Modal_delete",{on:{confirmed:t.delete_list,declined:t.close_modal_delete}}):t._e(),i("button",{staticClass:"btn btn-info my-2",attrs:{type:"submit"},on:{click:function(e){return t.$emit("add-todo",t.list_id,t.current_list,t.title)}}},[t._v("Сохранить")])],1)},U=[],R=(i("99af"),i("7db0"),i("a434"),i("2909")),T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list-group"},[i("li",{staticClass:"list-group-item form-check"},[i("div",{staticClass:"input-group-prepend py-1"},[i("div",{staticClass:"input-group-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.list_item.completed,expression:"list_item.completed"}],staticClass:"mx-2",attrs:{type:"checkbox",name:"",id:t.list_item.id},domProps:{checked:Array.isArray(t.list_item.completed)?t._i(t.list_item.completed,null)>-1:t.list_item.completed},on:{change:function(e){var i=t.list_item.completed,n=e.target,o=!!n.checked;if(Array.isArray(i)){var s=null,l=t._i(i,s);n.checked?l<0&&t.$set(t.list_item,"completed",i.concat([s])):l>-1&&t.$set(t.list_item,"completed",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.list_item,"completed",o)}}})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.list_item.text,expression:"list_item.text"}],staticClass:"form-control mx-2 text-primary",class:{crossed:t.list_item.completed},attrs:{type:"text",name:"rand_uid",id:t.list_item.id+"a",required:""},domProps:{value:t.list_item.text},on:{input:function(e){e.target.composing||t.$set(t.list_item,"text",e.target.value)}}}),i("button",{staticClass:"btn btn-danger mx-2",attrs:{title:"удалить пункт"},on:{click:function(e){return t.$emit("del-todo-line",t.list_item.id)}}},[t._v("x")])])])])},A=[],D={name:"List_item",props:["list_item"]},L=D,q=(i("2d52"),Object(b["a"])(L,T,A,!1,null,null,null)),B=q.exports,H=i("ec26"),z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal_container board_modal_container",on:{click:function(t){t.preventDefault()}}},[i("div",{staticClass:"modal_window bg-light  px-3"},[i("div",{staticClass:"modal_message"},[t._v("Действительно удалить?")]),i("hr"),i("div",{staticClass:"modal_buttons my-3"},[i("button",{staticClass:"btn btn-info board_modal_cancel",on:{click:function(e){return t.$emit("declined")}}},[t._v("Отменить")]),i("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.$emit("confirmed",t.id)}}},[t._v("Подтвердить")])])])])},F=[],G={name:"Modal",props:["id"]},K=G,Q=(i("87d5"),Object(b["a"])(K,z,F,!1,null,null,null)),V=Q.exports,W={name:"Edit_list",props:["all_todos"],data:function(){var t=this.$route.params.id,e=this.all_todos.find((function(e){return e[0]==t})),i=e[1],n=e[2],o=[Object.assign([],i)],s=o.length-1;return{list_id:t,title:n,current_list:i,new_line:"",history:o,historyIndex:s,modal_is_open:!1,modal_delete_is_open:!1}},components:{List_item:B,Modal:O,Modal_delete:V},methods:{del_todo_line:function(t){var e=this.current_list.filter((function(e){return e.id!==t}));this.current_list=e,this.log(this.current_list)},add_todo_line:function(){var t={text:this.new_line,completed:!1,id:Object(H["a"])()};this.current_list=[].concat(Object(R["a"])(this.current_list),[t]),this.new_line="",this.log(this.current_list)},log:function(t){this.historyIndex+=1,this.history.splice(this.historyIndex),this.history.push(Object.assign([],t))},undo_all:function(){var t=this;console.log("undid");var e=localStorage.getItem("todo_lists"),i=JSON.parse(e),n=i.find((function(e){return e[0]==t.list_id}));this.current_list=n[1],this.close_modal()},go_back:function(){rt.push({path:"/"})},undo:function(){this.canUndo&&(this.historyIndex-=1,this.current_list=this.history[this.historyIndex])},redo:function(){this.canRedo&&(this.historyIndex+=1,this.current_list=this.history[this.historyIndex])},open_modal:function(){console.log("bebers"),this.modal_is_open=!this.modal_is_open},close_modal:function(){this.modal_is_open=!this.modal_is_open},open_modal_delete:function(){console.log("bebers"),this.modal_delete_is_open=!this.modal_delete_is_open},close_modal_delete:function(){this.modal_delete_is_open=!this.modal_delete_is_open},delete_list:function(){var t=this;console.log("pushed");var e=this.all_todos.filter((function(e){return e[0]!==t.list_id}));this.all_todos=e,l.setItem("todo_lists",JSON.stringify(this.all_todos)),this.close_modal_delete(),rt.push({path:"/"})}},mounted:function(){},beforeUpdate:function(){},destroyed:function(){console.log("destroyed")},computed:{canUndo:function(){return this.historyIndex>0},canRedo:function(){return this.history.length-1-this.historyIndex>0}}},X=W,Y=(i("6276"),Object(b["a"])(X,E,U,!1,null,"277bd205",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("button",{staticClass:"btn btn-dark my-2",attrs:{type:"submit"},on:{click:t.go_back}},[t._v("Назад")]),i("br"),i("div",{staticClass:"text-right"},[i("button",{staticClass:"btn btn-info my2",attrs:{disabled:!t.canUndo},on:{click:t.undo}},[t._v("Отменить")]),i("button",{staticClass:"btn btn-info my2",attrs:{disabled:!t.canRedo},on:{click:t.redo}},[t._v("Повторить")])]),i("div",{staticClass:"form-group"},[i("div",{staticClass:"list-group-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control text-primary",attrs:{type:"text",placeholder:"Название заметки (не обязательно)"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._l(t.current_list,(function(e){return i("div",{key:e.id},[i("List_item",{attrs:{list_item:e},on:{"del-todo-line":t.del_todo_line,"switch-complete":t.complete_switch}})],1)})),i("form",{staticClass:"list-group-item form-group",on:{submit:function(e){return e.preventDefault(),t.add_todo_line(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_line,expression:"new_line"}],staticClass:"form-control text-primary",attrs:{type:"text",name:"new_line",placeholder:"Добавьте новое дело",required:""},domProps:{value:t.new_line},on:{input:function(e){e.target.composing||(t.new_line=e.target.value)}}}),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Добавить")])])],2),i("button",{staticClass:"btn btn-secondary my-2",attrs:{type:"submit",title:"Сбросить все изменения"},on:{click:t.undo_all}},[t._v("Сбросить")]),i("button",{staticClass:"btn btn-info my-2",attrs:{type:"submit"},on:{click:function(e){return t.$emit("add-todo",t.new_uid,t.current_list,t.title)}}},[t._v("Сохранить")])])},et=[],it=(i("c740"),{name:"Create_list",data:function(){var t=[],e=[Object.assign([],t)],i=e.length-1;return{current_list:t,new_line:"",title:"",history:e,historyIndex:i}},components:{List_item:B},methods:{del_todo_line:function(t){var e=this.current_list.filter((function(e){return e.id!==t}));this.current_list=e,this.log(this.current_list)},add_todo_line:function(){var t={text:this.new_line,completed:!1,id:Object(H["a"])()};console.log(t),this.current_list=[].concat(Object(R["a"])(this.current_list),[t]),console.log(this.current_list),this.new_line="",this.log(this.current_list)},log:function(t){this.historyIndex+=1,this.history.splice(this.historyIndex),this.history.push(Object.assign([],t))},complete_switch:function(t){var e=JSON.parse(JSON.stringify(this.current_list)),i=e.findIndex((function(e){return e.id===t}));e[i].completed=!e[i].completed,this.current_list=e,this.log(this.current_list)},undo_all:function(){this.current_list=[],this.new_line=""},go_back:function(){rt.push({path:"/"})},undo:function(){this.canUndo&&(this.historyIndex-=1,this.current_list=this.history[this.historyIndex])},redo:function(){this.canRedo&&(this.historyIndex+=1,this.current_list=this.history[this.historyIndex])}},mounted:function(){},beforeUpdate:function(){},destroyed:function(){console.log("destroyed")},computed:{canUndo:function(){return this.historyIndex>0},canRedo:function(){return this.history.length-1-this.historyIndex>0},new_uid:function(){return Object(H["a"])()}}}),nt=it,ot=Object(b["a"])(nt,tt,et,!1,null,null,null),st=ot.exports;n["a"].use(a["a"]);var lt,rt=new a["a"]({routes:[{path:"/",name:"home",component:J},{path:"/edit_:id",name:"edit",component:Z,props:{default:!0,list_props:"list_props"}},{path:"/edit_",name:"edit",component:st}]});if(l["todo_lists"]){var at=localStorage.getItem("todo_lists");lt=JSON.parse(at)}else l.setItem("todo_lists",JSON.stringify(r)),lt=r;var ct={name:"App",data:function(){return{all_todos:lt}},methods:{refresh_db:function(t,e,i){var n=this.all_todos.filter((function(e){return e[0]!==t})),o=[t,e,i];n.push(o),this.all_todos=n,l.setItem("todo_lists",JSON.stringify(this.all_todos)),rt.push({path:"/"})}},updated:function(){var t=localStorage.getItem("todo_lists"),e=JSON.stringify(this.all_todos);e!==t&&(lt=JSON.parse(t),this.all_todos=lt)}},dt=ct,ut=Object(b["a"])(dt,o,s,!1,null,null,null),_t=ut.exports;n["a"].config.productionTip=!1,window.bus=new n["a"],new n["a"]({render:function(t){return t(_t)},router:rt}).$mount("#app")},6276:function(t,e,i){"use strict";var n=i("3e32"),o=i.n(n);o.a},"72b7":function(t,e,i){},"87d5":function(t,e,i){"use strict";var n=i("c545"),o=i.n(n);o.a},"92ae":function(t,e,i){"use strict";var n=i("4e54"),o=i.n(n);o.a},b6e0:function(t,e,i){"use strict";var n=i("72b7"),o=i.n(n);o.a},be87:function(t,e,i){},c545:function(t,e,i){},d5ea:function(t,e,i){"use strict";var n=i("20da"),o=i.n(n);o.a},d756:function(t,e,i){}});
//# sourceMappingURL=app.d51e9f50.js.map